<!DOCTYPE>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>jQuery Router Demos</title>
    <script type="text/javascript" src="../tests/jquery.js"></script>
    <script type="text/javascript" src="../src/jquery.router.js"></script>
    <script type="text/javascript">
      $(function() {
        var result = $('#result');

        // Print a hash
        $.print = function(dict) {
          var str = '{ ';
          for (var key in dict) {
            str += '"' + key + '": "' + dict[key] + '", ';
          }
          str += '}';
          return str;
        }

        // Setup routes
        $.router.route("test/")
            .get(function() {
                result.text('test: ' + $.print(this.params));
            }).end()

            .route("settings/")
            .get(function() {
                result.text('settings: ' + $.print(this.params));
            }).end()

            .route("quit/")
            .get(function() {
                result.text('quit: ' + $.print(this.params));
            }).end()

            .route("book/:book_id/")
            .get(function(book_id) {
                result.text('book ' + book_id + ':  ' + $.print(this.params));
            }).end()

            .route("book/:book_id#[0-9]+#/note/:note_id#[0-9]+#/")
            .get(function(book_id, note_id) {
                result.text('book ' + book_id + ' note ' + note_id + ': ' + $.print(this.params));
            }).end();

        // Run router
        $.router.run();

      })
    </script>
  </head>
  <body>
    <h3>Static paths</h3>
    <a href="#test/?redirect">Test</a><br />
    <a href="#settings/">Settings</a><br />
    <a href="#quit/">Quit</a><br />
    <hr />
    <h3>Dynamic paths</h3>
    <a href="#book/1/">Book1</a><br />
    <a href="#book/2/">Book2</a><br />
    <a href="#book/3/note/1/">Note1</a><br />
    <a href="#book/3/note/2/">Note2</a><br />
    <hr />
    <h3>Query strings</h3>
    <a href="#test/?framework=qunit">Test</a><br />
    <a href="#book/1/?title=HelpMe">Book1</a><br />
    <a href="#book/3/note/1/?body=LOL">Note1</a><br />
    <hr />
    <h3>Output</h3>
    <div id="result"></div>
  </body>
</html>
